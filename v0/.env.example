# Running Coach PWA - Environment Variables
# Copy this file to .env.local and fill in your values

# =============================================================================
# Map Configuration (for Route Maps Feature)
# =============================================================================

# MapTiler API Configuration
# Sign up for free at https://www.maptiler.com/cloud/
# Free tier includes 100,000 tile requests per month
NEXT_PUBLIC_MAP_TILE_URL=https://api.maptiler.com/maps/streets-v2/{z}/{x}/{y}.png?key={token}
NEXT_PUBLIC_MAP_TILE_URL_DARK=https://api.maptiler.com/maps/streets-v2-dark/{z}/{x}/{y}.png?key={token}
NEXT_PUBLIC_MAP_TILE_TOKEN=

# NOTE: If MapTiler token is not provided or requests fail,
# the app will automatically fall back to OpenStreetMap tiles (no key required)

# =============================================================================
# AI Configuration (OpenAI for chat and plan generation)
# =============================================================================
OPENAI_API_KEY=
ENCRYPTION_KEY=

# Optional: Chat runtime tuning (defaults shown)
CHAT_DEFAULT_MODEL=gpt-4o-mini
CHAT_MAX_TOKENS=1000
CHAT_TIMEOUT_MS=15000
CHAT_MAX_MESSAGES=10
CHAT_MAX_PROFILE_SUMMARY_CHARS=500
CHAT_MONTHLY_TOKEN_BUDGET=200000
CHAT_HOURLY_REQUEST_LIMIT=50
CHAT_HEALTH_CACHE_TTL_MS=60000

# Optional: Adaptive coaching model (used by the personalized coach engine)
# Recommended for best quality: gpt-4o
CHAT_COACHING_MODEL=gpt-4o

# Optional: "Add run from image" extraction models
# Defaults:
# - AI_ACTIVITY_MODEL=gpt-4o (structured extraction)
# - AI_ACTIVITY_OCR_MODEL=gpt-4o-mini (text transcription fallback)
AI_ACTIVITY_MODEL=
AI_ACTIVITY_OCR_MODEL=

# Optional: include raw transcribed text in /api/ai-activity responses (debug only)
AI_ACTIVITY_INCLUDE_OCR_TEXT=false

# =============================================================================
# Garmin OAuth (optional, for Garmin device sync)
# =============================================================================
GARMIN_CLIENT_ID=
GARMIN_CLIENT_SECRET=
# Must match the redirect URI configured in Garmin Developer Portal
GARMIN_OAUTH_REDIRECT_URI=https://runsmart-ai.com/garmin/callback
# Optional: webhook secret appended to Garmin notification URL
# Example Garmin callback URL: https://runsmart-ai.com/api/devices/garmin/webhook?secret=<GARMIN_WEBHOOK_SECRET>
GARMIN_WEBHOOK_SECRET=

# =============================================================================
# Analytics (PostHog)
# =============================================================================
NEXT_PUBLIC_POSTHOG_KEY=
NEXT_PUBLIC_POSTHOG_HOST=https://us.i.posthog.com

# =============================================================================
# Other Configuration
# =============================================================================
# Add your other environment variables below as needed

# =============================================================================
# Supabase (optional, server persistence)
# =============================================================================
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# =============================================================================
# Admin Configuration
# =============================================================================
# Comma-separated list of admin email addresses that can access /admin routes
ADMIN_EMAILS=admin@example.com

# Feature Flags
# Enable the new plan-template flow (keeps the existing goal wizard as fallback)
NEXT_PUBLIC_ENABLE_PLAN_TEMPLATE_FLOW=false
